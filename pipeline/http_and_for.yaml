type: "pipeline"
name: "http_and_for"
steps:
  sleep_1:
    type: "sleep"
    name: "sleep_1"
    depends_on: []
    for: '["1s", "2s", "3s", "3s", "2s", "2s"]'
    input: '{"duration": "{{.each.value}}"}'
  sleep_2:
    type: "sleep"
    name: "sleep_2"
    depends_on: ["sleep_1"]
    for: '["1s", "2s", "3s", "3s", "2s", "2s"]'
    input: '{"duration": "{{.each.value}}"}'
  http_1:
    type: "http_request"
    name: "http_1"
    input: '{"url": "http://api.open-notify.org/astros.json"}'
    error:
      retries: 2
